<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="hugo 之前用的是 hexo ，最近发现了 hugo ，感觉还行，就拿来玩玩。 跟 hexo 一样，都是生成静态页面的。\n下载 去 github 上下载一下就完事了：gohugoio/hugo: The world’s fastest framework for building websites. (github.com)\n这里还有个小坑，这东西的 release 有两个版本，要下那个带 extended 的那个。\n因为我是在 windows 平台，下载 windows-amd64 的就可以了。\n环境变量 需要把解压出来的 exe 文件放到 bin 文件夹下，然后加到环境变量里。\n例如，我新建了一个 D:\\hugo\\bin 文件夹，然后把解压出来的 hugo.exe 放到此文件夹。接着在系统环境变量 path 里，加入 D:\\hugo\\bin 。\n可以在 cmd 中输入 hugo server 看看是否添加好了\n主题美化 Complete List | Hugo Themes (gohugo.io)\n去上面这个网站找了找，试了几个，发现有个叫 stack 的还不错，搜了搜发现了作者提供的一个模版：CaiJimmy/hugo-theme-stack-starter\n作者还写好了 Github Actions ，只需要提交就好了，so sweet。\n"><title>使用 hugo + obsidian 来写博客</title>
<link rel=canonical href=https://w2tbp.github.io/blog/p/%E4%BD%BF%E7%94%A8-hugo--obsidian-%E6%9D%A5%E5%86%99%E5%8D%9A%E5%AE%A2/><link rel=stylesheet href=/blog/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="使用 hugo + obsidian 来写博客"><meta property='og:description' content="hugo 之前用的是 hexo ，最近发现了 hugo ，感觉还行，就拿来玩玩。 跟 hexo 一样，都是生成静态页面的。\n下载 去 github 上下载一下就完事了：gohugoio/hugo: The world’s fastest framework for building websites. (github.com)\n这里还有个小坑，这东西的 release 有两个版本，要下那个带 extended 的那个。\n因为我是在 windows 平台，下载 windows-amd64 的就可以了。\n环境变量 需要把解压出来的 exe 文件放到 bin 文件夹下，然后加到环境变量里。\n例如，我新建了一个 D:\\hugo\\bin 文件夹，然后把解压出来的 hugo.exe 放到此文件夹。接着在系统环境变量 path 里，加入 D:\\hugo\\bin 。\n可以在 cmd 中输入 hugo server 看看是否添加好了\n主题美化 Complete List | Hugo Themes (gohugo.io)\n去上面这个网站找了找，试了几个，发现有个叫 stack 的还不错，搜了搜发现了作者提供的一个模版：CaiJimmy/hugo-theme-stack-starter\n作者还写好了 Github Actions ，只需要提交就好了，so sweet。\n"><meta property='og:url' content='https://w2tbp.github.io/blog/p/%E4%BD%BF%E7%94%A8-hugo--obsidian-%E6%9D%A5%E5%86%99%E5%8D%9A%E5%AE%A2/'><meta property='og:site_name' content='w2tbp'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='瞎折腾'><meta property='article:published_time' content='2023-07-19T22:07:13+00:00'><meta property='article:modified_time' content='2023-07-19T22:07:13+00:00'><meta name=twitter:title content="使用 hugo + obsidian 来写博客"><meta name=twitter:description content="hugo 之前用的是 hexo ，最近发现了 hugo ，感觉还行，就拿来玩玩。 跟 hexo 一样，都是生成静态页面的。\n下载 去 github 上下载一下就完事了：gohugoio/hugo: The world’s fastest framework for building websites. (github.com)\n这里还有个小坑，这东西的 release 有两个版本，要下那个带 extended 的那个。\n因为我是在 windows 平台，下载 windows-amd64 的就可以了。\n环境变量 需要把解压出来的 exe 文件放到 bin 文件夹下，然后加到环境变量里。\n例如，我新建了一个 D:\\hugo\\bin 文件夹，然后把解压出来的 hugo.exe 放到此文件夹。接着在系统环境变量 path 里，加入 D:\\hugo\\bin 。\n可以在 cmd 中输入 hugo server 看看是否添加好了\n主题美化 Complete List | Hugo Themes (gohugo.io)\n去上面这个网站找了找，试了几个，发现有个叫 stack 的还不错，搜了搜发现了作者提供的一个模版：CaiJimmy/hugo-theme-stack-starter\n作者还写好了 Github Actions ，只需要提交就好了，so sweet。\n"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><div class=site-meta><h1 class=site-name><a href=/blog>w2tbp</a></h1><h2 class=site-description></h2></div></header><ol class=menu id=main-menu><li><a href=/blog/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/blog/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/blog/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#hugo>hugo</a><ol><li><a href=#下载>下载</a></li><li><a href=#环境变量>环境变量</a></li><li><a href=#主题美化>主题美化</a></li><li><a href=#github-page>github page</a></li><li><a href=#忽略渲染>忽略渲染</a></li></ol></li><li><a href=#obsidian>obsidian</a><ol><li><a href=#插入图片重命名>插入图片重命名</a></li><li><a href=#流程图>流程图</a></li></ol></li><li><a href=#markdown>markdown</a><ol><li><a href=#换行>换行</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/blog/p/%E4%BD%BF%E7%94%A8-hugo--obsidian-%E6%9D%A5%E5%86%99%E5%8D%9A%E5%AE%A2/>使用 hugo + obsidian 来写博客</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jul 19, 2023</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 1 分钟</time></div></footer></div></header><section class=article-content><h2 id=hugo>hugo</h2><p>之前用的是 hexo ，最近发现了 hugo ，感觉还行，就拿来玩玩。
跟 hexo 一样，都是生成静态页面的。</p><h3 id=下载>下载</h3><p>去 github 上下载一下就完事了：<a class=link href=https://github.com/gohugoio/hugo target=_blank rel=noopener>gohugoio/hugo: The world’s fastest framework for building websites. (github.com)</a><br>这里还有个小坑，这东西的 release 有两个版本，要下那个带 extended 的那个。</p><p>因为我是在 windows 平台，下载 windows-amd64 的就可以了。</p><h3 id=环境变量>环境变量</h3><p>需要把解压出来的 exe 文件放到 bin 文件夹下，然后加到环境变量里。</p><p>例如，我新建了一个 <code>D:\hugo\bin</code> 文件夹，然后把解压出来的 hugo.exe 放到此文件夹。接着在系统环境变量 path 里，加入 <code>D:\hugo\bin</code> 。<br>可以在 cmd 中输入 <code>hugo server</code> 看看是否添加好了</p><p><img src=/blog/p/%E4%BD%BF%E7%94%A8-hugo--obsidian-%E6%9D%A5%E5%86%99%E5%8D%9A%E5%AE%A2/assets/hugo-obsidian.png width=1106 height=620 srcset="/blog/p/%E4%BD%BF%E7%94%A8-hugo--obsidian-%E6%9D%A5%E5%86%99%E5%8D%9A%E5%AE%A2/assets/hugo-obsidian_hu10749186575025881851.png 480w, /blog/p/%E4%BD%BF%E7%94%A8-hugo--obsidian-%E6%9D%A5%E5%86%99%E5%8D%9A%E5%AE%A2/assets/hugo-obsidian_hu6257463987272391234.png 1024w" loading=lazy class=gallery-image data-flex-grow=178 data-flex-basis=428px></p><h3 id=主题美化>主题美化</h3><p><a class=link href=https://themes.gohugo.io/ target=_blank rel=noopener>Complete List | Hugo Themes (gohugo.io)</a></p><p>去上面这个网站找了找，试了几个，发现有个叫 stack 的还不错，搜了搜发现了作者提供的一个模版：<a class=link href=https://github.com/CaiJimmy/hugo-theme-stack-starter target=_blank rel=noopener>CaiJimmy/hugo-theme-stack-starter</a><br>作者还写好了 Github Actions ，只需要提交就好了，so sweet。</p><h3 id=github-page>github page</h3><p>hugo 只负责生成静态页面，还需要把这些页面托管方便访问，github page 就是一个很好的选择。<br>我之前用的是 hexo ，所以是建了一个 username.github.io 的库，然后往里面推就完事了。</p><p>而stack-starter 这个项目是把静态页面推到了一个 gh-pages 的分支里。
所以需要更改 github page 的设置，位于 Settings -> pages
然后更改 Branch</p><p><img src=/blog/p/%E4%BD%BF%E7%94%A8-hugo--obsidian-%E6%9D%A5%E5%86%99%E5%8D%9A%E5%AE%A2/assets/hugo-obsidian_1.png width=1151 height=580 srcset="/blog/p/%E4%BD%BF%E7%94%A8-hugo--obsidian-%E6%9D%A5%E5%86%99%E5%8D%9A%E5%AE%A2/assets/hugo-obsidian_1_hu13370897434228298848.png 480w, /blog/p/%E4%BD%BF%E7%94%A8-hugo--obsidian-%E6%9D%A5%E5%86%99%E5%8D%9A%E5%AE%A2/assets/hugo-obsidian_1_hu11676654322659809412.png 1024w" loading=lazy alt=hugo-obsidian_1.png class=gallery-image data-flex-grow=198 data-flex-basis=476px></p><p>当然默认模版会有很多东西想要个性化，比如页底、外链。这些就去查文档后配置吧。
<a class=link href=https://stack.jimmycai.com/ target=_blank rel=noopener>Stack | Card-style Hugo theme designed for bloggers (jimmycai.com)</a></p><h3 id=忽略渲染>忽略渲染</h3><p>hugo 可以配置忽略渲染某些文件</p><p>使用 <code>hugo</code> 编译时，将忽略 <code>config.toml</code> 文件中指定的内容，比如：以 <code>.foo</code> 和 <code>.boo</code> 结尾的文件。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>ignoreFiles</span> <span class=p>=</span> <span class=p>[</span> <span class=s2>&#34;\\.foo$&#34;</span><span class=p>,</span> <span class=s2>&#34;\\.boo$&#34;</span> <span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>上面使用了正则表达式，使用 <code>\</code> 转义是因为在 TOML 里。</p><p><a class=link href=https://www.gohugo.org/doc/overview/configuration/ target=_blank rel=noopener>配置 Hugo - Hugo中文文档 (gohugo.org)</a></p><h2 id=obsidian>obsidian</h2><p>obsidian 很好用，拿来写 md ，hugo 用来生成页面，强强联合，完美。<br>但是用 obsidian 还有一些问题，好在插件生态很丰富。</p><h3 id=插入图片重命名>插入图片重命名</h3><p>obsidian 原生插入图片时，有一些问题。</p><p>原生的插入图片，默认会是双链，而不是 md 格式的 <code>![]()</code> 。需要在设置 -> 文件与链接 -> 关闭 使用 WiKi 链接。</p><p>还有原生的会自己生成一个文件名，例如 <code>Pasted image 20230726205233.png</code> 这个空格就很烦，hugo 不知道为什么不会渲染。所以需要一个更改文件名的插件，我使用了 paste-image-rename<br><a class=link href=https://github.com/reorx/obsidian-paste-image-rename target=_blank rel=noopener>reorx/obsidian-paste-image-rename</a></p><h3 id=流程图>流程图</h3><p>使用大家都用的 excalidraw ，然后导出图片到再插入到 md 中就行了。</p><p>不知道为什么 excalidraw 好像不会渲染，如果会渲染就在配置文件中忽略就好。</p><h2 id=markdown>markdown</h2><h3 id=换行>换行</h3><p>obsidian 如果只回车一次，在页面上是不会渲染成换行的，这跟 md 的语法有关 <a class=link href=https://markdown.com.cn/basic-syntax/line-breaks.html target=_blank rel=noopener>Markdown 换行语法</a><br>所以要么就回车两次，要么就在需要换行的段落后面加俩空格。</p></section><footer class=article-footer><section class=article-tags><a href=/blog/tags/%E7%9E%8E%E6%8A%98%E8%85%BE/>瞎折腾</a></section></footer></article><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2023 -
2024 w2tbp</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/blog/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>